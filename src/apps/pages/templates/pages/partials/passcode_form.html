<form method="post" hx-post="/" hx-swap="outerHTML" id="continue_with_email_form">
    {% csrf_token %}
    <input type="email" value="{{ email }}" id="continue_with_email_input" disabled required>
    <input type="hidden" name="email" value="{{ email }}">

    <div class="passcode-container">
        <small>A one-time passcode has been emailed to you.</small>
        <input type="text" name="passcode" placeholder="Enter one-time passcode" id="passcode_input" autofocus required>
    </div>

    {% if user_has_account %}
        <button type="submit" id="login_button">Log in</button>
    {% else %}
        <button type="submit" id="signup_button">Create a free account</button>
    {% endif %}
</form>

{% if messages %}
    <ul class="messages">
        {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
{% endif %}

{% extends "app.html" %}
{% load static %}
{% load markdown_extras %}

{% block app_stylesheets %}
    <link rel="stylesheet" href="{% static 'notes/css/detail.css' %}">
{% endblock %}

{% block nav_button %}
    <a href="{{ previous_url }}" class="back-btn">
        ../
    </a>
{% endblock %}

{% block app_content %}
    <section class="note-detail">
        <header>
            {% if note.title %}
                <h1 class="note-title">{{ note.title }}</h1>
            {% endif %}
            <time datetime="">{{ note.created_at }}</time>
        </header>
        <div class="note-content">{{ note.content | markdown | safe }}</div>
    </section>
    <hr>
    <section class="note-detail-options">
        <button id="delete_note_button">Delete note</button>
        <dialog id="delete_note_dialog" autofocus>
            <div class="dialog-content">
                <p>Are you sure that you want to delete this note?</p>
                <form action="{% url 'notes:delete' note.id %}" method="post">
                    {% csrf_token %}
                    <button formmethod="dialog">Cancel</button>
                    <button type="submit" id="delete_note_confirm_button">Yes, delete this note</button>
                </form>
            </div>
        </dialog>
    </section>
{% endblock %}

{% block scripts %}
    <script src="{% static 'notes/js/delete.js' %}"></script>
{% endblock %}
